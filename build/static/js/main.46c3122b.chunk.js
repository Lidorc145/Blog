(this.webpackJsonpassignment4=this.webpackJsonpassignment4||[]).push([[0],{194:function(t,e,a){t.exports=a(306)},199:function(t,e,a){},226:function(t,e){},228:function(t,e){},306:function(t,e,a){"use strict";a.r(e);var n=a(0),l=a.n(n),s=a(14),r=a.n(s),i=a(29),o=a(30),x=a(93),c=a(32),m=a(33),u=a(16),h=(a(199),a(45));var p=function(t){return l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"/Home",activeClassName:"NavLink"},"Home")),l.a.createElement("li",{className:"navBorder",activeclassname:"NavLink"},"|"),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/AboutMe",activeclassname:"NavLink"},"About Me")),l.a.createElement("li",{className:"navBorder"},"|"),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/NewPost",activeclassname:"NavLink"},"New Post")),l.a.createElement("li",{className:"rightLi"},!t.username&&l.a.createElement(h.b,{to:"/Login",activeclassname:"NavLink"},"Login"),t.username&&l.a.createElement("div",null,"Hello ",t.username))))},d=a(333),g=a(307);var f=function(){return l.a.createElement("footer",null,l.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(d.a,{color:"inherit",href:"mailto: Lidorc145@gmail.com"},"Lidor Cohen")," ",(new Date).getFullYear(),"."))},b=a(71),v=a.n(b),E=a(101),y=a(79),k=a.n(y);var S=function(t){var e=new Date(t.date);if("[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())){var a=new Date(new Date-e),n="",l=!1;return a.toISOString().slice(0,4)-1970>0&&(n+=a.toISOString().slice(0,4)-1970+" Years ",l=!0),a.toISOString().slice(5,7)-1>0&&(l&&(n+="and "),n+=1*a.toISOString().slice(5,7)-1+" Month"+(1*a.toISOString().slice(5,7)-1>1?"s":"")+" ",l=!0),Math.floor((1*a.toISOString().slice(8,10)-1)/7)>0&&(l&&(n+="and "),n+=Math.floor((1*a.toISOString().slice(8,10)-1)/7)+" Week"+(Math.floor((1*a.toISOString().slice(8,10)-1)/7)>1?"s":"")+" ",n+=(1*a.toISOString().slice(8,10)-1)%7+" days"),(1*a.toISOString().slice(8,10)-1)%7>0&&(l&&(n+="and "),n+=(1*a.toISOString().slice(8,10)-1)%7+" days"),""===n?"Today at "+e.getHours()+":"+e.getMinutes():n+" ago"}return null},C=function(t){Object(m.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={postID:t.postID,postTitle:t.postTitle,postImage:t.postImage,postPreviewText:t.postPreviewText,postPublishedTime:t.postPublishedTime,postAuther:t.postAuther},n}return Object(o.a)(a,[{key:"render",value:function(){return new Date(this.state.postPublishedTime).getTime()<=Date.now()?l.a.createElement(h.a,{to:"Post/"+this.state.postID},l.a.createElement("section",{className:"postSection",id:this.state.postID},l.a.createElement("img",{src:this.state.postImage,alt:"",id:"postImage#2",className:"postImage"}),l.a.createElement("div",{className:"postContent"},l.a.createElement("p",{className:"postTitle"},this.state.postTitle),l.a.createElement("br",null),k()(this.state.postPreviewText)),l.a.createElement("p",{className:"postFooter"},"Published ",l.a.createElement(S,{date:this.state.postPublishedTime})," by ",this.state.postAuther))):null}}]),a}(l.a.Component),O=a(52),P=a.n(O),N=function(t){Object(m.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={postsData:null,numOfPosts:10},n.getDataFromdb(),n}return Object(o.a)(a,[{key:"getDataFromdb",value:function(){var t=Object(E.a)(v.a.mark((function t(){var e=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("posts/").then((function(t){e.setState({postsData:t.data})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return null!=this.state.postsData?this.state.postsData.map((function(t,e){return l.a.createElement(C,{key:e.toString(),postID:t.id,postTitle:t.title,postPreviewText:t.summary,postImage:t.image,postAuther:t.auther_name,postPublishedTime:t.publish_date})})):null}}]),a}(l.a.Component);var w=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Popular"),l.a.createElement("p",null,"Blog post #3 ",l.a.createElement("a",{href:"PostPage/3"},"go to page")),l.a.createElement("p",null,"Blog post #1 ",l.a.createElement("a",{href:"PostPage/1"},"go to page")),l.a.createElement("p",null,"Blog post #2 ",l.a.createElement("a",{href:"PostPage/2"},"go to page")))};var D=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Latest"),l.a.createElement("p",null,"Blog post #1 ",l.a.createElement("a",{href:"PostPage/1"},"go to page")),l.a.createElement("p",null,"Blog post #2 ",l.a.createElement("a",{href:"PostPage/2"},"go to page")),l.a.createElement("p",null,"Blog post #3 ",l.a.createElement("a",{href:"PostPage/3"},"go to page")))};var j=function(){return l.a.createElement("div",null,l.a.createElement("article",{className:"mainColumn"},l.a.createElement("h1",null,"This is my blog"),l.a.createElement(N,null)),l.a.createElement("aside",{className:"sideColumn"},l.a.createElement(D,null),l.a.createElement("hr",{className:"divider"}),l.a.createElement(w,null)))};var I=function(){return l.a.createElement("div",null,l.a.createElement("article",{className:"mainColumn"},l.a.createElement("h1",null,"About Me"),"Text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text text"))},T=a(170),_=a(335),L=a(336),A=a(348),M=a(346),q=a(342),B=a(340),H=a(347),Y=a(174),R=a(171),F=a.n(R),W=a(172),U=a(21),K=a(345),J=a(102),z=a.n(J),V=function(t){Object(m.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).handlePublishDateChange=function(t){n.setState({publish_date:z()(t).format("YYYY-MM-DD HH:mm")})},n.handleInputChange=function(t){"content"===t.target.id?n.setState({content:t.target.getContent()}):(n.setState(Object(T.a)({},t.target.id,t.target.value)),t.target.error=!0)},n.sendPost=function(){n.setState({clicked:!0});var t=n.state;if(t.title&&t.summary&&t.content&&t.image&&t.publish_date){var e={title:n.state.title,summary:n.state.summary,content:n.state.content,image:n.state.image,auther_id:6,last_update_date:n.state.publish_date,publish_date:n.state.publish_date,tags_list:JSON.stringify(n.state.tags)};P.a.post("posts/",e).then((function(){n.setState({axiosResponse:"success",response:"Success: The post added successfully!",alert:!0,title:"",summary:"",content:"",image:"",publish_date:null,tags:[],clicked:!1})})).catch((function(t){n.setState({axiosResponse:"error",response:""+t,alert:!0}),403!==t.response.status&&401!==t.response.status||n.props.handler({errorState:t.response.status})}))}else n.setState({axiosResponse:"error",response:"Missing required data",alert:!0})},n.handleAlertClose=function(t,e){"clickaway"!==e&&n.setState({alert:!1})},n.state={title:"",summary:"",content:"",image:"",publish_date:null,tags:[],axiosResponse:null,response:null,alert:!1,clicked:!1,username:n.props.parentState.username,full_name:n.props.parentState.full_name,type:null|n.props.type},console.log(n.state.username),n}return Object(o.a)(a,[{key:"handleAddChip",value:function(t){var e=this.state.tags;e.push(t),this.setState({tags:e})}},{key:"handleDeleteChip",value:function(t,e){var a=this.state.tags;a.splice(e,1),this.setState({tags:a})}},{key:"render",value:function(){var t=this;return this.state.username?l.a.createElement(_.a,null,l.a.createElement(L.a,null,l.a.createElement(A.a,{open:this.state.alert,onClose:this.handleAlertClose,autoHideDuration:3e3},l.a.createElement(H.a,{severity:this.state.axiosResponse,elevation:6,variant:"filled"},this.state.response)),l.a.createElement(g.a,{variant:"h4"},l.a.createElement("i",{className:"material-icons md-35"},"create"),"New Post"),l.a.createElement(M.a,{error:this.state.clicked&&!this.state.title,helperText:this.state.clicked&&!this.state.title?"Required":null,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"off",onChange:this.handleInputChange,value:this.state.title}),l.a.createElement(M.a,{error:this.state.clicked&&!this.state.summary,helperText:this.state.clicked&&!this.state.summary?"Required":null,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,id:"summary",label:"Summary",name:"summary",autoComplete:"off",rows:4,rowsMax:4,onChange:this.handleInputChange,value:this.state.summary,multiline:!0}),l.a.createElement(M.a,{error:this.state.clicked&&!this.state.image,helperText:this.state.clicked&&!this.state.image?"Required":null,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,id:"image",label:"Image URL",name:"image",autoComplete:"off",onChange:this.handleInputChange,value:this.state.image}),l.a.createElement("div",{style:this.state.clicked&&!this.state.content?{marginTop:10,borderStyle:"solid",borderColor:"#f44336"}:{marginTop:10}},l.a.createElement(Y.a,{value:this.state.content,id:"content",init:{height:500,menu:{tc:{title:"TinyComments",items:"addcomment showcomments deleteallconversations"}},menubar:"file edit view insert format tools table tc help",plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount fullscreen"],allow_conditional_comments:!0,toolbar:"fullscreen  preview save print | undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment"},apiKey:"xxvvg9qhyrakxs5x5duy04pgns9qrj0x8ph71t1d7q0qz4ju",onChange:this.handleInputChange})),l.a.createElement(F.a,{value:this.state.tags,fullWidth:!0,variant:"outlined",label:"Tags",margin:"normal",onAdd:function(e){return t.handleAddChip(e)},onDelete:function(e,a){return t.handleDeleteChip(e,a)}}),l.a.createElement(U.a,{utils:W.a},l.a.createElement(K.a,{id:"publish_date",required:!0,minutesStep:5,autoOk:!0,error:this.state.clicked&&!this.state.publish_date,helperText:this.state.clicked&&!this.state.publish_date?"Required":null,value:this.state.publish_date,inputVariant:"outlined",disablePast:!0,allowKeyboardControl:!0,onChange:this.handlePublishDateChange,label:"Publish Date",ampm:!1,format:"DD/MM/YYYY HH:mm:00"}))),l.a.createElement(q.a,null,l.a.createElement(B.a,{style:{backgroundColor:"green"},variant:"contained",type:"submit",fullWidth:!0,color:"primary"},"Save"),l.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:this.sendPost},"Publish"))):l.a.createElement(u.a,{to:"/Login"})}}]),a}(l.a.Component),G=a(339),Q=a(343),X=a(165),Z=new(0,a(302).AllHtmlEntities),$=Object(G.a)((function(t){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:t.spacing(.5)}}}}));function tt(t){var e=$(),a=function(){console.info("You clicked the Chip.")},n=Z.decode(t.value),s=JSON.parse(n).map((function(t){return l.a.createElement(X.a,{key:t.toString(),variant:"outlined",onClick:a,color:"primary",label:t})}));return l.a.createElement("div",{className:e.root},s)}var et=function(t){Object(m.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={postID:t.match.params.id,postData:null},n.getDataFromdb(),n}return Object(o.a)(a,[{key:"getDataFromdb",value:function(){var t=Object(E.a)(v.a.mark((function t(){var e=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("/posts/id/"+this.state.postID).then((function(t){e.setState({postData:t.data})}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.postData&&this.state.postData[0]){var t=this.state.postData[0];return l.a.createElement(Q.a,{justify:"center"},l.a.createElement("article",{className:"mainColumn"},l.a.createElement("h1",null,t.title),l.a.createElement("b",null,k()(t.summary)),l.a.createElement("br",null),k()(Z.decode(t.content)),l.a.createElement(tt,{value:t.tags_list}),l.a.createElement("p",{className:"postFooter"},"Published ",l.a.createElement(S,{date:t.publish_date})," by ",t.auther_name)))}return null}}]),a}(l.a.Component),at=function(t){Object(m.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).OnChangeUsername=function(t){n.setState({username:t.target.value})},n.OnChangePassword=function(t){n.setState({password:t.target.value})},n.handleSubmit=function(){var t={username:n.state.username,password:n.state.password};P.a.post("/login/",t).then((function(t){n.setState({data:[],resp:"sucess"}),n.props.handler({username:n.state.username,full_name:t.data.full_name}),n.goBack()})).catch((function(){n.setState({data:[],resp:"error"})}))},n.keyPress=function(t){13===t.keyCode&&n.handleSubmit()},n.state={data:[],resp:null},n}return Object(o.a)(a,[{key:"goBack",value:function(){this.props.history.goBack(),console.log("KENN")}},{key:"render",value:function(){return l.a.createElement("div",{className:"form-group",align:"center"},l.a.createElement("div",{className:"form-group  col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail3",className:"col-sm-2 col-form-label"},l.a.createElement("h1",null,"Login"),"Demo User:",l.a.createElement("br",null),"Username: demo",l.a.createElement("br",null),"Password: demo")),l.a.createElement("div",{className:"form-group  col-md-6"},l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"username",name:"username",onKeyDown:this.keyPress,className:"form-control",id:"inputEmail3",placeholder:"Username",onChange:this.OnChangeUsername}))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"password",className:"form-control",onKeyDown:this.keyPress,id:"inputPassword3",placeholder:"Password",onChange:this.OnChangePassword}))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Sign in"))))}}]),a}(l.a.Component),nt=a(344),lt=a(341),st=a(173),rt=a.n(st),it=a(25),ot=Object(it.a)(),xt=function(t){Object(m.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={username:null,full_name:null,sessionID:rt.a.get("sessionID")},n.handler=n.handler.bind(Object(x.a)(n)),n}return Object(o.a)(a,[{key:"handler",value:function(t){this.setState(t)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(u.c,{history:ot},l.a.createElement("header",null,l.a.createElement(nt.a,{color:"transparent"},l.a.createElement(lt.a,null,l.a.createElement(p,{username:this.state.username}))),l.a.createElement(lt.a,{id:"back-to-top-anchor"})),l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/AboutMe",component:I}),l.a.createElement(u.b,{path:"/Post/:id",component:et}),l.a.createElement(u.b,{path:"/NewPost"},l.a.createElement(V,{handler:this.handler,parentState:this.state})),l.a.createElement(u.b,{path:"/Login"},l.a.createElement(at,{onLogin:this.onLogin,handler:this.handler,history:ot})),l.a.createElement(u.b,{path:"/Home",component:j}),l.a.createElement(u.a,{from:"/",to:"/Home"}))),l.a.createElement(f,null))}}]),a}(l.a.Component);r.a.render(l.a.createElement(xt,null),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.46c3122b.chunk.js.map